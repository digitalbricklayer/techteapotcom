.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.14
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "MRTG-NW-GUIDE 1"
.TH MRTG-NW-GUIDE 1 "2006-05-03" "2.14.1" "mrtg"
.SH "NAME"
mrtg\-nw\-guide \- MRTG for NetWare
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
This guide is intended to aid in the installation and configuration of \s-1MRTG\s0 on a NetWare server.
.SH "OVERVIEW"
.IX Header "OVERVIEW"
\&\s-1MRTG\s0 is a relative newcomer to the NetWare platform. Earlier versions of NetWare could not run \s-1MRTG\s0 natively for
several reasons:
.IP "\(bu" 4
Absence of NetWare \s-1OS\s0 support in the \s-1MRTG\s0 package.
.IP "\(bu" 4
A NetWare server commandline length limitation.
.IP "\(bu" 4
Absence of the Rateup executable (Rateup.nlm).
.IP "\(bu" 4
A standard installation method.
.IP "\(bu" 4
Problems with NetWare's implementation of Perl.
.PP
Support for the NetWare \s-1OS\s0 has now been fully added into \s-1MRTG\s0, beginning with \s-1MRTG\s0 release 2.12.2.
.PP
Liberallly minded operating systems support a commandline length approaching 1000 characters. In such environments it
was an easy matter to pass the sometimes high number of parameters used by \s-1MRTG\s0's Rateup executable directly on the
commandline. Until NetWare 6.5, NetWare had a commandline limit of 512 characters. This limitation was also removed
for NetWare 6.0 by Service Pack 5. For other NetWare versions and earlier Service Packs, this limitation remains. To
permit a 'standard' interface for NetWare, the Rateup executable has been modified to also read its parameters from
a file, and the \s-1MRTG\s0 script has been modified to support this method on a NetWare platform.  (See New Rateup Switch)
.PP
A Rateup \s-1NLM\s0 is now available, along with the necessary scripts to build it if required. See the  NetWare Support
section of this document for further details. Additionally, mrtg.pl has been revised because of the unique (to NetWare)
name of executables (\s-1NLM\s0).
.PP
The absence of a specific installation procedure has caused \s-1MRTG\s0 to fail in the past because the Perl script could
not find or load the Rateup executable. The installation method supplied here will solve this problem for now.
.PP
The \s-1MRTG\s0.pl script in the 2.12.2 (or later) version of \s-1MRTG\s0 has been configured to suit all likely versions of
NetWare able to use Perl5, and bypasses all of the known problems with NetWare Perl running \s-1MRTG\s0.
.SH "PREREQUISITES"
.IX Header "PREREQUISITES"
You will need the following:
.IP "\(bu" 4
Perl 5.8.0 for NetWare with latest Perl Updates (February, 2005 or later; previous versions \s-1MAY\s0 work)
.IP "\(bu" 4
NetWare 5.1 w/ \s-1SP8\s0, NetWare 6.0 w/ \s-1SP5\s0 or NetWare 6.5 w/ \s-1SP2\s0.
.IP "\(bu" 4
A copy of the \s-1MRTG\s0 Package (v2.12.2 at time of writting)
.IP "\(bu" 4
Three .ncf files to execute the Perl scripts at the NetWare server console.
.IP "\(bu" 4
A copy of the Rateup \s-1NLM\s0 (Pre\-built or compiled)
.IP "\(bu" 4
Optionally, any NetWare supported Web Server (Netscape, Apache 1.3 or 2.0)
.PP
For copies of the .ncf files and Rateup \s-1NLM\s0, see NetWare Support in this document.
.SH "INSTALLING MRTG"
.IX Header "INSTALLING MRTG"
.IP "1." 4
Install the latest Perl 5.8.x release on your server. See the Perl documentation for details.
.IP "2." 4
Create the following directories:
.Sp
.Vb 10
\&         SYS:/Mrtg
\&         SYS:/Mrtg/bin
\&         SYS:/Mrtg/contrib    (Optional for this document)
\&         SYS:/Mrtg/doc        (Optional for this document)
\&         SYS:/Mrtg/html
\&         SYS:/Mrtg/html/images
\&         SYS:/Mrtg/html/work
\&         SYS:/Mrtg/lib
\&         SYS:/Mrtg/logs
\&         SYS:/Mrtg/translate
.Ve
.IP "3." 4
Copy from the \s-1MRTG\s0 package the following files:
.Sp
.Vb 1
\&         \ebin\e*        to  SYS:/Mrtg/bin              All files. See Note 1.
.Ve
.Sp
.Vb 2
\&    Note 1: Add a .pl extension to the mrtg, cfgmaker and indexmaker files.
\&            The rateup.exe will NOT be needed on the NetWare server.
.Ve
.Sp
.Vb 4
\&         \econtrib\e*    to  SYS:/Mrtg/contrib/         Include sub-directories
\&         \edoc\e*        to  SYS:/Mrtg/doc/             All files
\&         \eimages\e*     to  SYS:/Mrtg/html/images/     All files
\&         \etranslate\e*  to  SYS:/Mrtg/translate/       All files. See Note 2.
.Ve
.Sp
.Vb 1
\&    Note 2: For English-only language support, all \etranslate files EXCEPT Locales_mrtg may be deleted.
.Ve
.Sp
.Vb 1
\&         \elib\e*        to  SYS:/Mrtg/lib              Include sub-directories. See Note 3.
.Ve
.Sp
.Vb 1
\&    Note 3: This will create the SYS:/Mrtg/lib/mrtg2 and ./pod directories.
.Ve
.IP "4." 4
Create copies of the three .ncf files and install them:
.Sp
.Vb 1
\&         *.ncf         to  SYS:/Mrtg/bin
.Ve
.Sp
See NetWare Support in this document for details on how to create copies of these files.
.IP "5." 4
See Compiling Rateup.nlm"> in this document for details on compiling the Rateup \s-1NLM\s0 yourself if desired.
A prebuit verion is available in the .\emrtg\ebin directory where it must remain.
.SH "CONFIGURING MRTG"
.IX Header "CONFIGURING MRTG"
.IP "\(bu" 4
Refer to Novell documentation on configuring and loading \s-1SNMP\s0 support on your server if this is the device to
be monitored.
.IP "\(bu" 4
Edit sys:/mrtg/bin/MakeMrtgCfg.ncf:
.Sp
.Vb 2
\&          - replace ccccc with the GET community name for the SNMP device (typically 'public'),
\&          - replace ddddd with the DNS name or IP address of the device to be monitored.
.Ve
.Sp
.Vb 1
\&          e.g    public@www.myserver.com, public@10.202.65.180
.Ve
.Sp
.Vb 2
\&          Note 1: These are NOT mail addresses, they just look like one!
\&          Note 2: If multiple devices are to be monitored, add their entries to the same line:
.Ve
.Sp
.Vb 1
\&          e.g  perl cfgmaker.pl public@www.myserver.com public@10.202.65.180 > sys:/mrtg/bin/mrtg.cfg
.Ve
.Sp
In this \*(L"Getting Started\*(R", it is 'suggested' to only monitor a single device.
.IP "\(bu" 4
At the server console, run:
.Sp
.Vb 1
\&         sys:/mrtg/bin/MakeMrtgCfg.ncf
.Ve
.Sp
This will create Mrtg.cfg in sys:/mrtg/bin.
.IP "\(bu" 4
Edit the Mrtg.cfg configuration file created in the previous step. Note the following:
.Sp
It was found, when testing \s-1MRTG\s0 on a NetWare 6.5 server using a \s-1NIC\s0 Interface, that mrtg.cfg contained
the following message:
.Sp
.Vb 5
\& ### Interface 1 >> Descr: 'Intel(R)-8255x-based-Network-Connection'...
\& ### The following interface is commented out because:
\& ### * has a speed of 0 which makes no sense
\& # 
\& ...
.Ve
.Sp
If this occurs, edit MakeMrtgCfg.ncf and add the following parameter as shown:
.Sp
.Vb 1
\& perl sys:\emrtg\ebin\ecfgmaker.pl --zero-speed=nnn public@10.202.65.180 > sys:\emrtg\ebin\eMrtg.cfg
.Ve
.Sp
where \fBnnn\fR is the interface speed in bits per second. For a 100 Megabit \s-1LAN\s0 \s-1NIC\s0, nnn = 10000000. It will be
necessary to re-execute the MakeMrtgCfg.ncf script before continuing with this section.
.Sp
Below line 16 (*** Global Defaults), add:
.Sp
.Vb 4
\& HtmlDir:  <a path>  e.g  HtmlDir:  sys:/mrtg/html
\& ImageDir: <a path>  e.g  ImageDir: sys:/mrtg/html/work
\& LogDir:   <a path>  e.g  LogDir:   sys:/mrtg/logs
\& IconDir:  <a path>  e.g  IconDir:  ./images
.Ve
.RS 4
.IP "Note 1" 4
.IX Item "Note 1"
The HtmlDir entry specifies where \s-1MRTG\s0 will create its \s-1HTML\s0 pages.
.IP "Note 2" 4
.IX Item "Note 2"
The ImageDir entry specifies where the created graphic icons are placed.
.IP "Note 3" 4
.IX Item "Note 3"
The IconDir entry specifies where the supplied \s-1MRTG\s0 icons are located.
It \s-1MUST\s0 be a relative path from HtmlDir or absolute \s-1URL\s0. The value shown
is recommended.
.RE
.RS 4
.RE
.IP "\(bu" 4
At the server console run:
.Sp
.Vb 1
\& sys:/mrtg/bin/RunMrtg.ncf
.Ve
.Sp
several times. By the third time it should run without showing error messages on the console screen.
This should create:
.RS 4
.IP "\(bu" 4
A \s-1HTML\s0 page in the (HtmlDir) directory for each monitored device,
.IP "\(bu" 4
A .dat file in the (ImageDir) directory for each monitored device,
.IP "\(bu" 4
Several .png icons in the (ImageDir) directory,
.IP "\(bu" 4
Some log file entries in the (LogDir) directory.
.RE
.RS 4
.Sp
Note: If you experience a \*(L"Use of uninitialised value in split\*(R" error, it will be necessary to
create a 'Path' environment variable at the server console; use the following example
.Sp
.Vb 1
\& env path="SYS:\e"  (The actual value is immaterial, as long as the var itself exists.)
.Ve
.RE
.IP "\(bu" 4
Edit sys:/mrtg/bin/MakeMrtgIndex.ncf. Change the indicated <path> shown in the following example to
match the value entered for (HtmlDir).
.Sp
.Vb 1
\& perl --noscreen sys:/mrtg/bin/indexmaker.pl sys:/mrtg/bin/Mrtg.cfg > <path>/index.html
.Ve
.IP "\(bu" 4
Create an index.html page linking the seperate device \s-1HTML\s0 page(s). At the server console, run:
.Sp
.Vb 1
\& sys:/mrtg/bin/MakeMrtgIndex.ncf
.Ve
.Sp
This will create index.html in the (HtmlDir) directory.
.IP "\(bu" 4
Optionally, configure a Web Server to permit access to the directory specified in (HtmlDir) to view the \s-1MRTG\s0
graphs remotely, at, for example:
.Sp
.Vb 1
\& http://ip_or_dns/mrtg/index.html
.Ve
.Sp
A sample configuration for an Apache Webserver is shown:
.Sp
.Vb 6
\& Alias /mrtg/ "SYS:/mrtg/html/"
\& <Directory "SYS:/mrtg/html">
\&             AllowOverride None
\&             Order allow,deny
\&             Allow from all
\& </Directory>
.Ve
.IP "\(bu" 4
Set the property of the directory pointed to by (ImageDir), to 'Purge Immediate'.
.IP "\(bu" 4
Finally, read the \s-1MRTG\s0 documentation for much more detailed configuration/usage information.
.PP
Welcome to \s-1MRTG\s0!!
.SH "MAKE MRTG RUN ALL THE TIME"
.IX Header "MAKE MRTG RUN ALL THE TIME"
\&\s-1MRTG\s0 can be made to run periodically by at least two means:
.IP "\(bu" 4
Using \s-1CRON\s0 Scheduling
.IP "\(bu" 4
Running \s-1MRTG\s0 in Daemon Mode
.Sh "\s-1CRON\s0 Scheduling"
.IX Subsection "CRON Scheduling"
To use \s-1CRON\s0 scheduling, create a \s-1CRON\s0 Scheduler entry to execute the RunMrtg.ncf file on a frequency appropriate for
the server environment and information desired. The following entry in the sys:\eetc\ecrontab file will execute \s-1MRTG\s0
every five minutes:
.PP
.Vb 1
\& 0,5,10,15,20,25,30,35,40,45,50,55 * * * * sys:\emrtg\ebin\erunmrtg.ncf
.Ve
.PP
The \s-1CRON\s0 Scheduler (cron.nlm) can be started automatically by adding it in \s-1AUTOEXEC\s0.ncf or, manually loading it at
the server console.
.Sh "\s-1MRTG\s0 in Daemon Mode"
.IX Subsection "MRTG in Daemon Mode"
Refer to the MRTG-Reference document for information about the 'RunAsDaemon' option. Its use is outside the scope
of this document.
.SH "TROUBLESHOOTING"
.IX Header "TROUBLESHOOTING"
Read the \s-1MRTG\s0 documents, Perl documents or, finally, submit questions to the \s-1MRTG\s0 User forums.
.PP
For NetWare specific issues, submit questions to the Perl forum at 
news://developer\-forums.novell.com/novell.devsup.perl (Novell Developer Forums).
.SH "COMPILING RATEUP.NLM"
.IX Header "COMPILING RATEUP.NLM"
In addition to the rateup.c and Makefile.Netware supplied with the \s-1MRTG\s0 release, you will also need:
.IP "\(bu" 4
Metrowerks CodeWarrior with NetWare Support \s-1OR\s0 \s-1GCC\s0 Compiler (v3.0.3 or later) with NlmConv Utility
.IP "\(bu" 4
Novell LibC \s-1NDK\s0 (February 2004 or later)
.IP "\(bu" 4
\&\s-1GD\s0 Graphics Library (v2.0.33 or later)
.IP "\(bu" 4
LibPNG Graphics Library (v1.2.8 or later)
.IP "\(bu" 4
ZLib Library (v1.2.3 or later)
.IP "\(bu" 4
The get_ver.awk script
.IP "\(bu" 4
A copy of the \s-1GNU\s0 build tools.    (See http://sourceforge.net/projects/gnuwin32/)
.PP
The auxiliary libraries can be obtained from:
.PP
\&\s-1GD\s0 Graphics Library.   (See http://www.boutell.com/gd/ )
.PP
\&\s-1PNG\s0 Graphics Library.   (See http://libpng.sourceforge.net/ )
.PP
zLib Compression Library.   (See http://www.gzip.org/zlib/ )
.PP
Edit the Makefile.Netware file as required to match your installation paths; search
the file for the key word 'Edit'.
.SH "NETWARE SUPPORT"
.IX Header "NETWARE SUPPORT"
For copies of the \s-1NCF\s0 and get_ver.awk scripts, see Appendix.
.PP
For NetWare specific issues, submit questions to the Perl forum at 
news://developer\-forums.novell.com/novell.devsup.perl (Novell Developer Forums).
.PP
To move the \s-1MRTG\s0 application to a volume other than \s-1SYS:\s0 you will need to edit the \s-1NCF\s0
scripts provided plus the MRTG[.pl] script itself in two places.
.SH "NEW RATEUP SWITCH"
.IX Header "NEW RATEUP SWITCH"
The MRTG[.pl] script, when used on a NetWare platform, uses Rateup[.nlm] with the new
commandline switch:
.PP
.Vb 1
\&     RATEUP -f filename
.Ve
.PP
where the filename parameter can include a leading path element.
.PP
The file format is exactly the same as that used on the commandline by other operating
systems, including the leading path and name of the Rateup \s-1NLM\s0.
.SH "APPENDIX"
.IX Header "APPENDIX"
The Appendix includes 'copies' of the following files:
.IP "\(bu" 4
The \s-1NCF\s0 files used during \s-1MRTG\s0 configuration,
.PP
To create copies of these files, simply 'cut and paste' into your favourite '\fBtext editor\fR' and save
under their respective names. You should remove the leading space from each line.
.PP
\fIMakeMrtgCfg.NCF\fR
.IX Subsection "MakeMrtgCfg.NCF"
.PP
.Vb 6
\& # MakeMrtgCfg.NCF
\& # Purpose : Create the MRTG Configuration File
\& # Changed :  5/05/2005  New
\& # Located : SYS:MRTG\eBIN
\& # Set For : 
\& # Params  :
.Ve
.PP
.Vb 1
\& # Edit this file and:
.Ve
.PP
.Vb 2
\& # Replace ccccc with your device GET SNMP Community Name - If unsure try 'public'.
\& # Replace ddddd with your device IP (n.n.n.n) or domain name.
.Ve
.PP
.Vb 1
\& perl --noscreen sys:\emrtg\ebin\ecfgmaker.pl ccccc@ddddd > sys:\emrtg\ebin\eMrtg.cfg
.Ve
.PP
.Vb 2
\& #
\& # End of MakeMrtgCfg.NCF
.Ve
.PP
\fIRunMrtg.NCF\fR
.IX Subsection "RunMrtg.NCF"
.PP
.Vb 6
\& # RunMrtg.NCF
\& # Purpose : Run the MRTG Application
\& # Changed :  5/05/2005  New
\& # Located : SYS:MRTG\eBIN
\& # Set For : 
\& # Params  :
.Ve
.PP
.Vb 1
\& # The paths are as per the examples recommended in "Getting Started".
.Ve
.PP
.Vb 1
\& perl --noscreen sys:\emrtg\ebin\emrtg.pl sys:\emrtg\ebin\emrtg.cfg
.Ve
.PP
.Vb 2
\& #
\& # End of RunMrtg.NCF
.Ve
.PP
\fIMakeMrtgIndex.NCF\fR
.IX Subsection "MakeMrtgIndex.NCF"
.PP
.Vb 6
\& # MakeMrtgIndex.NCF
\& # Purpose : Create the HTML Index File for MRTG HTML data pages
\& # Changed :  5/05/2005  New
\& # Located : SYS:MRTG\eBIN
\& # Set For : 
\& # Params  :
.Ve
.PP
.Vb 3
\& # Note: Edit this file and change the redirected output to the location
\& #       specified for HtmlDir or WorkDir. The sys:\eapache2\ehtdocs\emrtg\eindex.html
\& #       is based on the examples in "Getting Started".
.Ve
.PP
.Vb 1
\& perl --noscreen sys:\emrtg\ebin\eindexmaker.pl sys:\emrtg\ebin\eMrtg.cfg > sys:\emrtg\ehtml\eindex.html
.Ve
.PP
.Vb 2
\& #
\& # End of MakeMrtgIndex.NCF
.Ve
.SH "LICENSE"
.IX Header "LICENSE"
\&\s-1GNU\s0 General Public License
.SH "CREDITS"
.IX Header "CREDITS"
The \s-1MRTG\s0 for NetWare exists largely through the efforts of Guenter Knauf and feedback from beta testers.
.SH "AUTHOR"
.IX Header "AUTHOR"
Norm W..
